@inject HttpClient Http

<div>
    <div>
        <h6>
            <a class=" href-button" data-toggle= "collapse" href= "#advanceSearch" aria-expanded= "false" aria-controls= "advanceSearch" @onclick= "changeAriaExpandedStatus">
                Busqueda avanzada
                @if (!ariaExpandedStatus)
                {
                    <span class=" span-correction oi oi-caret-bottom oi-aling-rigth"></span>
                }
                else
                {
                    <span class= "span-correction oi oi-caret-top oi-aling-rigth"> </span>
                }
            </a>
        </h6>
    </div>
    <div class= "card">
        <div class= "card-body">
            <div id= "advanceSearch" class=" collapse show">
        <form>
            <div class="form-row">
                <div class="form-group col-3">
                    <label for="startDateSearch">
                        Buscar desde
                    </label>
                    <input type="date" class="form-control" @bind="startDateSearch"/>
                </div>
                <div class="form-group col-3">
                    <label for="endDateSearch">
                        Buscar hasta
                    </label>
                    <input type="date" class="form-control" @bind="endDateSearch" />
                </div>
            </div>
            <div class=" test-div form-row">
                <div class=" form-group col-10">
                </div>
                <div class=" form-group col-2">
                    <button type=" button" class=" btn btn-primary">
                        Buscar
                    </button>
                </div>
            </div>
        </form>
        </div>
      </div>
    </div>
</div>

@code {
    public bool ariaExpandedStatus= true;

    private void changeAriaExpandedStatus (MouseEventArgs e)
    {
        ariaExpandedStatus= !ariaExpandedStatus ? true : false;
    }

    DateTime startDateSearch = DateTime.Today.AddDays (-1);
    DateTime endDateSearch = DateTime.Today;

    public Factura [] F1 {get; set;}

    async Task listBills ( )
    {
        F1= await Http.GetJsonAsync <Factura []> ("Factura");
    }

    protected override async Task OnInitializedAsync ( )
    {
        await listBills ( );
    }
}
